<html py:extends="master.xhtml" py:strip="True">

<head py:block="head" py:strip="True">
    <title py:block="master_title">Журнал | WorkBox</title>
    <link rel="stylesheet" type="text/css" media="screen" href="/css/history.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/css/datatables.min.css"/>
</head>

<body py:block="body" py:strip="True">
    <section id="history-header">
        <div class="container outer-center">
            <h1 class="inner-center">Журнал действий в <b>WorkBox</b></h1>
        </div>
    </section>
    <section id="table-wrapper">
        <div class="container">
            <table id="history-table" class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th py:if="tg.predicates.has_permission('manage')">Пользователь</th>
                        <th>Виртуальная среда</th>
                        <th>Дата</th>
                        <th>Действие</th>
                    </tr>
                </thead>
            </table>
        </div>
    </section>
</body>

<script type="text/javascript" src="/js/datatables.min.js"></script>
<script type="text/javascript">
    $(function ($) {
        $('#history-table').dataTable({
            fixedHeader: {
                header: true,
                headerOffset: 50
            },
            pagingType: 'numbers',
            language: {
                url: '/local/datatables.ru.lang'
            },
            ajax: '/history/get'
        });
    });
</script>

</html>
